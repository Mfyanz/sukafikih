<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evaluasi Haji dan Umrah</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 24px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
            width: 100%;
            max-width: 1000px;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .header {
            background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
            padding: 2.5rem 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('/api/placeholder/1000/300') center/cover;
            opacity: 0.1;
        }

        .header h1 {
            font-size: 2.5rem;
            color: white;
            font-weight: 700;
            position: relative;
            margin: 0;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        .name-input-container {
            padding: 3rem 2rem;
            text-align: center;
        }

        .name-input-container input {
            width: 100%;
            max-width: 400px;
            padding: 1rem 1.5rem;
            font-size: 1.1rem;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            transition: all 0.3s ease;
            margin-bottom: 1.5rem;
        }

        .name-input-container input:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
        }

        .btn {
            padding: 0.875rem 1.5rem;
            font-size: 1.1rem;
            font-weight: 500;
            border-radius: 12px;
            transition: all 0.3s ease;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            min-width: 160px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
            color: white;
            border: none;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }

        .btn-danger {
            background: linear-gradient(135deg, #dc2626 0%, #ef4444 100%);
            color: white;
            border: none;
            margin-top: 1rem;
        }

        .btn-danger:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
        }

        .quiz-container {
            padding: 2rem;
        }

        .timer {
            background: #f8fafc;
            padding: 0.75rem 1rem;
            border-radius: 12px;
            font-weight: 600;
            color: #1e40af;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .progress-map {
            display: flex;
            justify-content: center;
            gap: 0.75rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .progress-circle {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border: 2px solid #3b82f6;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .progress-circle.completed {
            background: #3b82f6;
            color: white;
        }

        .question {
            font-size: 1.25rem;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 1.5rem;
            line-height: 1.5;
        }

        .options-container {
            display: grid;
            gap: 1rem;
        }

        .option-button {
            background: white;
            border: 2px solid #e2e8f0;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            font-size: 1rem;
            color: #1e293b;
            transition: all 0.3s ease;
            text-align: left;
            cursor: pointer;
        }

        .option-button:hover {
            border-color: #3b82f6;
            background: #f8fafc;
        }

        .result-card {
            padding: 3rem 2rem;
            text-align: center;
        }

        .result-card h3 {
            font-size: 2rem;
            color: #1e40af;
            margin-bottom: 1rem;
            font-weight: 700;
        }

        .leaderboard {
            padding: 2rem;
        }

        .leaderboard table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            margin-top: 1.5rem;
        }

        .leaderboard th {
            background: #f8fafc;
            padding: 1rem;
            font-weight: 600;
            color: #1e293b;
            text-align: left;
        }

        .leaderboard td {
            padding: 1rem;
            border-bottom: 1px solid #e2e8f0;
        }

        .leaderboard tr:last-child td {
            border-bottom: none;
        }

        @media (max-width: 640px) {
            .container {
                margin: 1rem;
                border-radius: 16px;
            }

            .header {
                padding: 1.5rem 1rem;
            }

            .header h1 {
                font-size: 1.75rem;
            }

            .name-input-container,
            .quiz-container,
            .result-card,
            .leaderboard {
                padding: 1.5rem 1rem;
            }

            .question {
                font-size: 1.1rem;
            }

            .options-container {
                gap: 0.75rem;
            }

            .option-button {
                padding: 0.875rem 1.25rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Evaluasi Haji dan Umrah</h1>
        </div>

        <div id="name-input-container" class="name-input-container">
            <h2 class="text-2xl font-semibold mb-6 text-gray-800">Masukkan Nama Anda</h2>
            <input type="text" id="user-name" placeholder="Nama Anda" class="focus:outline-none" />
            <button class="btn btn-primary" onclick="startQuiz()">
                <i class="fas fa-play"></i>
                Mulai Kuis
            </button>
            <a href="./menu2.html">
                <button class="btn btn-danger">
                    <i class="fas fa-times"></i>
                    Keluar
                </button>
            </a>
        </div>

        <div id="quiz-container" class="quiz-container" style="display: none;">
            <div id="timer" class="timer">
                <i class="fas fa-clock"></i>
                <span>60 detik</span>
            </div>
            <div id="progress-map" class="progress-map"></div>
            <div id="question-container"></div>
        </div>

        <div id="result-container" class="result-card" style="display: none;">
            <h3>Evaluasi Selesai!</h3>
            <p id="score-message" class="text-xl mb-6"></p>
            <button class="btn btn-primary mb-3" onclick="restartQuiz()">
                <i class="fas fa-redo"></i>
                Mulai Lagi
            </button>
            <button class="btn btn-primary" onclick="viewLeaderboard()">
                <i class="fas fa-trophy"></i>
                Lihat Peringkat
            </button>
        </div>

        <div id="leaderboard" class="leaderboard" style="display: none;">
            <h2 class="text-2xl font-semibold text-gray-800 mb-4">Peringkat Global</h2>
            <table>
                <thead>
                    <tr>
                        <th>Peringkat</th>
                        <th>Nama</th>
                        <th>Skor</th>
                    </tr>
                </thead>
                <tbody id="leaderboard-list"></tbody>
            </table>
            <button class="btn btn-danger mt-6" onclick="exitGame()">
                <i class="fas fa-sign-out-alt"></i>
                Keluar dari Game
            </button>
        </div>
    </div>

    <script>
        // Your existing JavaScript code remains the same
        const questions = [
            { question: "Apa saja rukun haji?", options: ["Ihram, wukuf di Arafah, thawaf ifadah, sai, tahallul, tertib", "Ihram, mabit di Muzdalifah, melontar jumrah", "Shalat, zakat, puasa, haji", "Thawaf qudum, mabit di Mina, dam"], correct: 0 },
            { question: "Apa perbedaan haji dan umrah?", options: ["Haji wajib, umrah sunnah", "Haji dilakukan pada waktu tertentu, umrah kapan saja", "Haji hanya thawaf, umrah hanya sai", "Haji tanpa dam, umrah dengan dam"], correct: 1 },
            { question: "Apa yang dimaksud dengan ihram dalam ibadah haji?", options: ["Pakaian khusus yang dikenakan saat haji", "Mandi besar sebelum berangkat ke Mekah", "Menahan diri dari hal-hal tertentu saat haji", "Perjalanan menuju tanah suci"], correct: 2 },
            { question: "Apa itu wukuf di Arafah?", options: ["Shalat di masjid Arafah", "Menginap di tenda di Arafah", "Berdoa dan memohon ampunan di Arafah", "Melempar jumrah"], correct: 2 },
            { question: "Apa yang dimaksud dengan thawaf ifadah?", options: ["Thawaf pertama kali setelah tiba di Makkah", "Thawaf yang dilakukan setelah wukuf di Arafah", "Thawaf untuk melambangkan ketaatan kepada Allah", "Thawaf saat tiba di Madinah"], correct: 1 },
            { question: "Berapa kali jumlah sai dalam ibadah haji?", options: ["5 kali", "7 kali", "3 kali", "9 kali"], correct: 1 },
            { question: "Apa itu tahallul?", options: ["Memotong rambut setelah selesai haji", "Membuang batu jumrah", "Bersujud di tempat tertentu", "Membaca talbiyah"], correct: 0 },
            { question: "Kapan haji diwajibkan bagi seorang Muslim?", options: ["Setelah menikah", "Setelah mampu secara finansial dan fisik", "Saat berusia 50 tahun", "Saat memiliki anak"], correct: 1 },
            { question: "Apa yang dimaksud dengan dam dalam ibadah haji?", options: ["Denda yang harus dibayar jika melakukan pelanggaran", "Sewa hewan kurban", "Zakat harta haji", "Proses mencuci pakaian haji"], correct: 0 },
            { question: "Apa itu umrah?", options: ["Ibadah haji di luar musim haji", "Ibadah yang lebih singkat dibandingkan haji", "Menjalankan seluruh rukun haji", "Perjalanan spiritual ke Madinah"], correct: 1 },
        ];

        let currentQuestionIndex = 0;
        let score = 0;
        let timer = 60;
        let timerInterval;
        const leaderboard = [];
        let userName = "";

        function updateProgressMap() {
            const progressMap = document.getElementById("progress-map");
            progressMap.innerHTML = questions.map((_, index) => `
                <div class="progress-circle ${index < currentQuestionIndex ? 'completed' : ''}">
                    ${index + 1}
                </div>
            `).join('');
        }

        function startQuiz() {
            userName = document.getElementById("user-name").value.trim();
            if (userName === "") {
                alert("Silakan masukkan nama Anda");
                return;
            }

            document.getElementById("name-input-container").style.display = "none";
            document.getElementById("quiz-container").style.display = "block";
            startTimer();
            displayQuestion();
        }
        function displayQuestion() {
            const question = questions[currentQuestionIndex];
            const questionContainer = document.getElementById("question-container");
            questionContainer.innerHTML = `
                <div class="question">${question.question}</div>
                <div class="options-container">
                    ${question.options.map((option, index) => {
                        return `
                            <button class="option-button" onclick="checkAnswer(${index}, ${question.correct})">${option}</button>
                        `;
                    }).join('')}
                </div>
            `;
            updateProgressMap();
        }

        // Check Answer
        function checkAnswer(selectedIndex, correctIndex) {
            const buttons = document.querySelectorAll(".option-button");
            if (selectedIndex === correctIndex) {
                score += 5;
                buttons[selectedIndex].style.backgroundColor = "#22c55e"; // Green for correct
            } else {
                buttons[selectedIndex].style.backgroundColor = "#ef4444"; // Red for incorrect
                buttons[correctIndex].style.backgroundColor = "#22c55e"; // Green for correct
            }

            setTimeout(nextQuestion, 1000);
        }

        // Next Question
        function nextQuestion() {
            currentQuestionIndex++;
            if (currentQuestionIndex < questions.length) {
                displayQuestion();
            } else {
                endQuiz();
            }
        }

        // Start Timer
        function startTimer() {
            timerInterval = setInterval(function () {
                document.getElementById("timer").textContent = `Waktu: ${timer} detik`;
                if (timer <= 0) {
                    clearInterval(timerInterval);
                    endQuiz();
                } else {
                    timer--;
                }
            }, 1000);
        }

        // End Quiz and Show Result
        function endQuiz() {
            clearInterval(timerInterval);
            document.getElementById("quiz-container").style.display = "none";
            document.getElementById("result-container").style.display = "block";
            document.getElementById("score-message").textContent = `Skor Anda: ${score}`;
            addLeaderboardEntry();
        }

        // Add to leaderboard
        function addLeaderboardEntry() {
            leaderboard.push({ name: userName, score });
            leaderboard.sort((a, b) => b.score - a.score);
            updateLeaderboard();
        }

        // Update leaderboard
        function updateLeaderboard() {
            const leaderboardList = document.getElementById("leaderboard-list");
            leaderboardList.innerHTML = leaderboard.map((entry, index) => {
                return `
                    <tr>
                        <td class="rank">${index + 1}</td>
                        <td class="name">${entry.name}</td>
                        <td class="score">${entry.score}</td>
                    </tr>
                `;
            }).join('');
        }

        // View Leaderboard
        function viewLeaderboard() {
            document.getElementById("leaderboard").style.display = "block";
        }

        // Restart Quiz
        function restartQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            timer = 60;
            document.getElementById("result-container").style.display = "none";
            document.getElementById("name-input-container").style.display = "block";
            document.getElementById("user-name").value = "";
        }

        // Exit Game
        function exitGame() {
            window.location.reload();
        }
    </script>
</body>
</html>
